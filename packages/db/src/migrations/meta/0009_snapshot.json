{
  "id": "a300a155-2b7d-4381-85c8-0bfda0901f74",
  "prevId": "d0f9dda4-b4fd-4221-b3b2-7125f8a08f79",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.brainstorm_messages": {
      "name": "brainstorm_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "brainstorm_message_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step": {
          "name": "step",
          "type": "brainstorm_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "technique": {
          "name": "technique",
          "type": "brainstorm_technique",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "brainstorm_messages_session_id_idx": {
          "name": "brainstorm_messages_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "brainstorm_messages_step_idx": {
          "name": "brainstorm_messages_step_idx",
          "columns": [
            {
              "expression": "step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "brainstorm_messages_created_at_idx": {
          "name": "brainstorm_messages_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "brainstorm_messages_session_id_brainstorm_sessions_id_fk": {
          "name": "brainstorm_messages_session_id_brainstorm_sessions_id_fk",
          "tableFrom": "brainstorm_messages",
          "tableTo": "brainstorm_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.brainstorm_sessions": {
      "name": "brainstorm_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_description": {
          "name": "project_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "goals": {
          "name": "goals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "approach": {
          "name": "approach",
          "type": "brainstorm_approach",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'ai_recommended'"
        },
        "current_step": {
          "name": "current_step",
          "type": "brainstorm_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'setup'"
        },
        "status": {
          "name": "status",
          "type": "brainstorm_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "selected_techniques": {
          "name": "selected_techniques",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "current_technique_index": {
          "name": "current_technique_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ideas": {
          "name": "ideas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "document_content": {
          "name": "document_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_title": {
          "name": "document_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "brainstorm_sessions_user_id_idx": {
          "name": "brainstorm_sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "brainstorm_sessions_status_idx": {
          "name": "brainstorm_sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "brainstorm_sessions_current_step_idx": {
          "name": "brainstorm_sessions_current_step_idx",
          "columns": [
            {
              "expression": "current_step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "brainstorm_sessions_created_at_idx": {
          "name": "brainstorm_sessions_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "brainstorm_sessions_user_id_users_id_fk": {
          "name": "brainstorm_sessions_user_id_users_id_fk",
          "tableFrom": "brainstorm_sessions",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.briefing_documents": {
      "name": "briefing_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "briefing_document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "briefing_documents_session_id_idx": {
          "name": "briefing_documents_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_documents_type_idx": {
          "name": "briefing_documents_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_documents_created_at_idx": {
          "name": "briefing_documents_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "briefing_documents_session_id_briefing_sessions_id_fk": {
          "name": "briefing_documents_session_id_briefing_sessions_id_fk",
          "tableFrom": "briefing_documents",
          "tableTo": "briefing_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.briefing_messages": {
      "name": "briefing_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "briefing_message_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step": {
          "name": "step",
          "type": "briefing_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "briefing_messages_session_id_idx": {
          "name": "briefing_messages_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_messages_step_idx": {
          "name": "briefing_messages_step_idx",
          "columns": [
            {
              "expression": "step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_messages_created_at_idx": {
          "name": "briefing_messages_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "briefing_messages_session_id_briefing_sessions_id_fk": {
          "name": "briefing_messages_session_id_briefing_sessions_id_fk",
          "tableFrom": "briefing_messages",
          "tableTo": "briefing_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.briefing_sessions": {
      "name": "briefing_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_description": {
          "name": "project_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "input_documents": {
          "name": "input_documents",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "problem_statement": {
          "name": "problem_statement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "problem_impact": {
          "name": "problem_impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "existing_solutions_gaps": {
          "name": "existing_solutions_gaps",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_solution": {
          "name": "proposed_solution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_differentiators": {
          "name": "key_differentiators",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "primary_users": {
          "name": "primary_users",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "secondary_users": {
          "name": "secondary_users",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "user_journeys": {
          "name": "user_journeys",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "success_metrics": {
          "name": "success_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "business_objectives": {
          "name": "business_objectives",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "kpis": {
          "name": "kpis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "mvp_features": {
          "name": "mvp_features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "out_of_scope": {
          "name": "out_of_scope",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "mvp_success_criteria": {
          "name": "mvp_success_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "future_vision": {
          "name": "future_vision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_step": {
          "name": "current_step",
          "type": "briefing_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'init'"
        },
        "status": {
          "name": "status",
          "type": "briefing_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "steps_completed": {
          "name": "steps_completed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "generation_status": {
          "name": "generation_status",
          "type": "briefing_generation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'idle'"
        },
        "generation_started_at": {
          "name": "generation_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "generation_error": {
          "name": "generation_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_content": {
          "name": "document_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_title": {
          "name": "document_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "executive_summary": {
          "name": "executive_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "briefing_sessions_user_id_idx": {
          "name": "briefing_sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_sessions_status_idx": {
          "name": "briefing_sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_sessions_current_step_idx": {
          "name": "briefing_sessions_current_step_idx",
          "columns": [
            {
              "expression": "current_step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_sessions_created_at_idx": {
          "name": "briefing_sessions_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "briefing_sessions_user_id_users_id_fk": {
          "name": "briefing_sessions_user_id_users_id_fk",
          "tableFrom": "briefing_sessions",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prd_documents": {
      "name": "prd_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "prd_document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "prd_documents_session_id_idx": {
          "name": "prd_documents_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prd_documents_type_idx": {
          "name": "prd_documents_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prd_documents_created_at_idx": {
          "name": "prd_documents_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prd_documents_session_id_prd_sessions_id_fk": {
          "name": "prd_documents_session_id_prd_sessions_id_fk",
          "tableFrom": "prd_documents",
          "tableTo": "prd_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prd_messages": {
      "name": "prd_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "prd_message_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step": {
          "name": "step",
          "type": "prd_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "prd_messages_session_id_idx": {
          "name": "prd_messages_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prd_messages_step_idx": {
          "name": "prd_messages_step_idx",
          "columns": [
            {
              "expression": "step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prd_messages_created_at_idx": {
          "name": "prd_messages_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prd_messages_session_id_prd_sessions_id_fk": {
          "name": "prd_messages_session_id_prd_sessions_id_fk",
          "tableFrom": "prd_messages",
          "tableTo": "prd_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.prd_sessions": {
      "name": "prd_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_description": {
          "name": "project_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "input_documents": {
          "name": "input_documents",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "project_type": {
          "name": "project_type",
          "type": "prd_project_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "domain": {
          "name": "domain",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "domain_complexity": {
          "name": "domain_complexity",
          "type": "prd_domain_complexity",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "executive_summary": {
          "name": "executive_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "differentiators": {
          "name": "differentiators",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "success_criteria": {
          "name": "success_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "personas": {
          "name": "personas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "user_journeys": {
          "name": "user_journeys",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "domain_concerns": {
          "name": "domain_concerns",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "regulatory_requirements": {
          "name": "regulatory_requirements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "domain_expertise": {
          "name": "domain_expertise",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "skip_domain_step": {
          "name": "skip_domain_step",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "innovations": {
          "name": "innovations",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "skip_innovation_step": {
          "name": "skip_innovation_step",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "project_type_details": {
          "name": "project_type_details",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "project_type_questions": {
          "name": "project_type_questions",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "features": {
          "name": "features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "out_of_scope": {
          "name": "out_of_scope",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "mvp_success_criteria": {
          "name": "mvp_success_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "functional_requirements": {
          "name": "functional_requirements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "non_functional_requirements": {
          "name": "non_functional_requirements",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "current_step": {
          "name": "current_step",
          "type": "prd_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'init'"
        },
        "status": {
          "name": "status",
          "type": "prd_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "steps_completed": {
          "name": "steps_completed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "generation_status": {
          "name": "generation_status",
          "type": "prd_generation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'idle'"
        },
        "generation_started_at": {
          "name": "generation_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "generation_error": {
          "name": "generation_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_content": {
          "name": "document_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_title": {
          "name": "document_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "prd_sessions_user_id_idx": {
          "name": "prd_sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prd_sessions_status_idx": {
          "name": "prd_sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prd_sessions_current_step_idx": {
          "name": "prd_sessions_current_step_idx",
          "columns": [
            {
              "expression": "current_step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prd_sessions_project_type_idx": {
          "name": "prd_sessions_project_type_idx",
          "columns": [
            {
              "expression": "project_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "prd_sessions_created_at_idx": {
          "name": "prd_sessions_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "prd_sessions_user_id_users_id_fk": {
          "name": "prd_sessions_user_id_users_id_fk",
          "tableFrom": "prd_sessions",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sm_documents": {
      "name": "sm_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "sm_document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sm_documents_session_id_idx": {
          "name": "sm_documents_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_documents_type_idx": {
          "name": "sm_documents_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_documents_created_at_idx": {
          "name": "sm_documents_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sm_documents_session_id_sm_sessions_id_fk": {
          "name": "sm_documents_session_id_sm_sessions_id_fk",
          "tableFrom": "sm_documents",
          "tableTo": "sm_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sm_epics": {
      "name": "sm_epics",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "number": {
          "name": "number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "business_value": {
          "name": "business_value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "feature_ids": {
          "name": "feature_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "functional_requirement_codes": {
          "name": "functional_requirement_codes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "sm_epic_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'backlog'"
        },
        "priority": {
          "name": "priority",
          "type": "sm_story_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "target_sprint": {
          "name": "target_sprint",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "estimated_story_points": {
          "name": "estimated_story_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sm_epics_session_id_idx": {
          "name": "sm_epics_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_epics_status_idx": {
          "name": "sm_epics_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_epics_number_idx": {
          "name": "sm_epics_number_idx",
          "columns": [
            {
              "expression": "number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_epics_session_status_idx": {
          "name": "sm_epics_session_status_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sm_epics_session_id_sm_sessions_id_fk": {
          "name": "sm_epics_session_id_sm_sessions_id_fk",
          "tableFrom": "sm_epics",
          "tableTo": "sm_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sm_messages": {
      "name": "sm_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "sm_message_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step": {
          "name": "step",
          "type": "sm_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sm_messages_session_id_idx": {
          "name": "sm_messages_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_messages_step_idx": {
          "name": "sm_messages_step_idx",
          "columns": [
            {
              "expression": "step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_messages_created_at_idx": {
          "name": "sm_messages_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sm_messages_session_id_sm_sessions_id_fk": {
          "name": "sm_messages_session_id_sm_sessions_id_fk",
          "tableFrom": "sm_messages",
          "tableTo": "sm_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sm_sessions": {
      "name": "sm_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "prd_session_id": {
          "name": "prd_session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_description": {
          "name": "project_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "prd_context": {
          "name": "prd_context",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "sprint_config": {
          "name": "sprint_config",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{\"sprintDuration\":14}'::jsonb"
        },
        "current_step": {
          "name": "current_step",
          "type": "sm_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'init'"
        },
        "status": {
          "name": "status",
          "type": "sm_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "steps_completed": {
          "name": "steps_completed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "generation_status": {
          "name": "generation_status",
          "type": "sm_generation_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'idle'"
        },
        "generation_started_at": {
          "name": "generation_started_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        },
        "generation_error": {
          "name": "generation_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "total_epics": {
          "name": "total_epics",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_stories": {
          "name": "total_stories",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "total_story_points": {
          "name": "total_story_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "document_content": {
          "name": "document_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_title": {
          "name": "document_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "sm_sessions_user_id_idx": {
          "name": "sm_sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_sessions_prd_session_id_idx": {
          "name": "sm_sessions_prd_session_id_idx",
          "columns": [
            {
              "expression": "prd_session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_sessions_status_idx": {
          "name": "sm_sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_sessions_current_step_idx": {
          "name": "sm_sessions_current_step_idx",
          "columns": [
            {
              "expression": "current_step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_sessions_created_at_idx": {
          "name": "sm_sessions_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sm_sessions_user_id_users_id_fk": {
          "name": "sm_sessions_user_id_users_id_fk",
          "tableFrom": "sm_sessions",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sm_sessions_prd_session_id_prd_sessions_id_fk": {
          "name": "sm_sessions_prd_session_id_prd_sessions_id_fk",
          "tableFrom": "sm_sessions",
          "tableTo": "prd_sessions",
          "columnsFrom": ["prd_session_id"],
          "columnsTo": ["id"],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sm_stories": {
      "name": "sm_stories",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "epic_id": {
          "name": "epic_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "epic_number": {
          "name": "epic_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "story_number": {
          "name": "story_number",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "story_key": {
          "name": "story_key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "as_a": {
          "name": "as_a",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "i_want": {
          "name": "i_want",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "so_that": {
          "name": "so_that",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "acceptance_criteria": {
          "name": "acceptance_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "tasks": {
          "name": "tasks",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "dev_notes": {
          "name": "dev_notes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'{}'::jsonb"
        },
        "status": {
          "name": "status",
          "type": "sm_story_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'backlog'"
        },
        "priority": {
          "name": "priority",
          "type": "sm_story_priority",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'medium'"
        },
        "story_points": {
          "name": "story_points",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "target_sprint": {
          "name": "target_sprint",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "functional_requirement_codes": {
          "name": "functional_requirement_codes",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "sm_stories_session_id_idx": {
          "name": "sm_stories_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_stories_epic_id_idx": {
          "name": "sm_stories_epic_id_idx",
          "columns": [
            {
              "expression": "epic_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_stories_status_idx": {
          "name": "sm_stories_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_stories_story_key_idx": {
          "name": "sm_stories_story_key_idx",
          "columns": [
            {
              "expression": "story_key",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "sm_stories_session_status_idx": {
          "name": "sm_stories_session_status_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "sm_stories_session_id_sm_sessions_id_fk": {
          "name": "sm_stories_session_id_sm_sessions_id_fk",
          "tableFrom": "sm_stories",
          "tableTo": "sm_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "sm_stories_epic_id_sm_epics_id_fk": {
          "name": "sm_stories_epic_id_sm_epics_id_fk",
          "tableFrom": "sm_stories",
          "tableTo": "sm_epics",
          "columnsFrom": ["epic_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_id": {
          "name": "clerk_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_clerk_id_idx": {
          "name": "users_clerk_id_idx",
          "columns": [
            {
              "expression": "clerk_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_role_idx": {
          "name": "users_role_idx",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_created_at_idx": {
          "name": "users_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_clerk_id_unique": {
          "name": "users_clerk_id_unique",
          "nullsNotDistinct": false,
          "columns": ["clerk_id"]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": ["email"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.brainstorm_approach": {
      "name": "brainstorm_approach",
      "schema": "public",
      "values": ["ai_recommended", "user_selected", "quick_session", "comprehensive"]
    },
    "public.brainstorm_message_role": {
      "name": "brainstorm_message_role",
      "schema": "public",
      "values": ["system", "user", "assistant"]
    },
    "public.brainstorm_status": {
      "name": "brainstorm_status",
      "schema": "public",
      "values": ["active", "paused", "completed", "archived"]
    },
    "public.brainstorm_step": {
      "name": "brainstorm_step",
      "schema": "public",
      "values": ["setup", "technique", "execution", "document"]
    },
    "public.brainstorm_technique": {
      "name": "brainstorm_technique",
      "schema": "public",
      "values": [
        "scamper",
        "what_if",
        "six_hats",
        "five_whys",
        "mind_mapping",
        "analogical",
        "first_principles",
        "yes_and",
        "future_self",
        "reversal"
      ]
    },
    "public.briefing_document_type": {
      "name": "briefing_document_type",
      "schema": "public",
      "values": [
        "product_brief",
        "executive_summary",
        "vision_statement",
        "user_personas",
        "metrics_dashboard",
        "mvp_scope",
        "custom"
      ]
    },
    "public.briefing_generation_status": {
      "name": "briefing_generation_status",
      "schema": "public",
      "values": ["idle", "generating", "completed", "failed"]
    },
    "public.briefing_message_role": {
      "name": "briefing_message_role",
      "schema": "public",
      "values": ["system", "user", "assistant"]
    },
    "public.briefing_status": {
      "name": "briefing_status",
      "schema": "public",
      "values": ["active", "paused", "completed", "archived"]
    },
    "public.briefing_step": {
      "name": "briefing_step",
      "schema": "public",
      "values": ["init", "vision", "users", "metrics", "scope", "complete"]
    },
    "public.prd_document_type": {
      "name": "prd_document_type",
      "schema": "public",
      "values": [
        "prd_full",
        "executive_summary",
        "functional_requirements",
        "nonfunctional_requirements",
        "user_journeys",
        "mvp_scope",
        "custom"
      ]
    },
    "public.prd_domain_complexity": {
      "name": "prd_domain_complexity",
      "schema": "public",
      "values": ["low", "medium", "high"]
    },
    "public.prd_generation_status": {
      "name": "prd_generation_status",
      "schema": "public",
      "values": ["idle", "generating", "completed", "failed"]
    },
    "public.prd_message_role": {
      "name": "prd_message_role",
      "schema": "public",
      "values": ["system", "user", "assistant"]
    },
    "public.prd_project_type": {
      "name": "prd_project_type",
      "schema": "public",
      "values": [
        "api_backend",
        "mobile_app",
        "saas_b2b",
        "developer_tool",
        "cli_tool",
        "web_app",
        "game",
        "desktop_app",
        "iot_embedded",
        "blockchain_web3",
        "custom"
      ]
    },
    "public.prd_status": {
      "name": "prd_status",
      "schema": "public",
      "values": ["active", "paused", "completed", "archived"]
    },
    "public.prd_step": {
      "name": "prd_step",
      "schema": "public",
      "values": [
        "init",
        "discovery",
        "success",
        "journeys",
        "domain",
        "innovation",
        "project_type",
        "scoping",
        "functional",
        "nonfunctional",
        "complete"
      ]
    },
    "public.sm_document_type": {
      "name": "sm_document_type",
      "schema": "public",
      "values": [
        "sprint_backlog",
        "epic_document",
        "story_document",
        "sprint_planning",
        "full_planning",
        "custom"
      ]
    },
    "public.sm_epic_status": {
      "name": "sm_epic_status",
      "schema": "public",
      "values": ["backlog", "in_progress", "done"]
    },
    "public.sm_generation_status": {
      "name": "sm_generation_status",
      "schema": "public",
      "values": ["idle", "generating", "completed", "failed"]
    },
    "public.sm_message_role": {
      "name": "sm_message_role",
      "schema": "public",
      "values": ["system", "user", "assistant"]
    },
    "public.sm_status": {
      "name": "sm_status",
      "schema": "public",
      "values": ["active", "paused", "completed", "archived"]
    },
    "public.sm_step": {
      "name": "sm_step",
      "schema": "public",
      "values": ["init", "epics", "stories", "details", "planning", "review", "complete"]
    },
    "public.sm_story_priority": {
      "name": "sm_story_priority",
      "schema": "public",
      "values": ["critical", "high", "medium", "low"]
    },
    "public.sm_story_status": {
      "name": "sm_story_status",
      "schema": "public",
      "values": ["backlog", "ready_for_dev", "in_progress", "review", "done"]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": ["admin", "user", "guest"]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
