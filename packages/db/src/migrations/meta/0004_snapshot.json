{
  "id": "b106df96-9d6d-4698-90b1-29b86cf93829",
  "prevId": "8accd693-f697-49b4-9e2d-0fc7e30cfe15",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.brainstorm_messages": {
      "name": "brainstorm_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "brainstorm_message_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step": {
          "name": "step",
          "type": "brainstorm_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "technique": {
          "name": "technique",
          "type": "brainstorm_technique",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "brainstorm_messages_session_id_idx": {
          "name": "brainstorm_messages_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "brainstorm_messages_step_idx": {
          "name": "brainstorm_messages_step_idx",
          "columns": [
            {
              "expression": "step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "brainstorm_messages_created_at_idx": {
          "name": "brainstorm_messages_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "brainstorm_messages_session_id_brainstorm_sessions_id_fk": {
          "name": "brainstorm_messages_session_id_brainstorm_sessions_id_fk",
          "tableFrom": "brainstorm_messages",
          "tableTo": "brainstorm_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.brainstorm_sessions": {
      "name": "brainstorm_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_description": {
          "name": "project_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "goals": {
          "name": "goals",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "approach": {
          "name": "approach",
          "type": "brainstorm_approach",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'ai_recommended'"
        },
        "current_step": {
          "name": "current_step",
          "type": "brainstorm_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'setup'"
        },
        "status": {
          "name": "status",
          "type": "brainstorm_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "selected_techniques": {
          "name": "selected_techniques",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "current_technique_index": {
          "name": "current_technique_index",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "ideas": {
          "name": "ideas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "document_content": {
          "name": "document_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_title": {
          "name": "document_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "brainstorm_sessions_user_id_idx": {
          "name": "brainstorm_sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "brainstorm_sessions_status_idx": {
          "name": "brainstorm_sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "brainstorm_sessions_current_step_idx": {
          "name": "brainstorm_sessions_current_step_idx",
          "columns": [
            {
              "expression": "current_step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "brainstorm_sessions_created_at_idx": {
          "name": "brainstorm_sessions_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "brainstorm_sessions_user_id_users_id_fk": {
          "name": "brainstorm_sessions_user_id_users_id_fk",
          "tableFrom": "brainstorm_sessions",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.briefing_documents": {
      "name": "briefing_documents",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "type": {
          "name": "type",
          "type": "briefing_document_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "version": {
          "name": "version",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "briefing_documents_session_id_idx": {
          "name": "briefing_documents_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_documents_type_idx": {
          "name": "briefing_documents_type_idx",
          "columns": [
            {
              "expression": "type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_documents_created_at_idx": {
          "name": "briefing_documents_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "briefing_documents_session_id_briefing_sessions_id_fk": {
          "name": "briefing_documents_session_id_briefing_sessions_id_fk",
          "tableFrom": "briefing_documents",
          "tableTo": "briefing_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.briefing_messages": {
      "name": "briefing_messages",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "session_id": {
          "name": "session_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "briefing_message_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "content": {
          "name": "content",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "step": {
          "name": "step",
          "type": "briefing_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "prompt_tokens": {
          "name": "prompt_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "completion_tokens": {
          "name": "completion_tokens",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "briefing_messages_session_id_idx": {
          "name": "briefing_messages_session_id_idx",
          "columns": [
            {
              "expression": "session_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_messages_step_idx": {
          "name": "briefing_messages_step_idx",
          "columns": [
            {
              "expression": "step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_messages_created_at_idx": {
          "name": "briefing_messages_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "briefing_messages_session_id_briefing_sessions_id_fk": {
          "name": "briefing_messages_session_id_briefing_sessions_id_fk",
          "tableFrom": "briefing_messages",
          "tableTo": "briefing_sessions",
          "columnsFrom": ["session_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.briefing_sessions": {
      "name": "briefing_sessions",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "user_id": {
          "name": "user_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "project_name": {
          "name": "project_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "project_description": {
          "name": "project_description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "input_documents": {
          "name": "input_documents",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "problem_statement": {
          "name": "problem_statement",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "problem_impact": {
          "name": "problem_impact",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "existing_solutions_gaps": {
          "name": "existing_solutions_gaps",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "proposed_solution": {
          "name": "proposed_solution",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "key_differentiators": {
          "name": "key_differentiators",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "primary_users": {
          "name": "primary_users",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "secondary_users": {
          "name": "secondary_users",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "user_journeys": {
          "name": "user_journeys",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "success_metrics": {
          "name": "success_metrics",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "business_objectives": {
          "name": "business_objectives",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "kpis": {
          "name": "kpis",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "mvp_features": {
          "name": "mvp_features",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "out_of_scope": {
          "name": "out_of_scope",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "mvp_success_criteria": {
          "name": "mvp_success_criteria",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "future_vision": {
          "name": "future_vision",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "current_step": {
          "name": "current_step",
          "type": "briefing_step",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'init'"
        },
        "status": {
          "name": "status",
          "type": "briefing_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "steps_completed": {
          "name": "steps_completed",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false,
          "default": "'[]'::jsonb"
        },
        "document_content": {
          "name": "document_content",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "document_title": {
          "name": "document_title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "executive_summary": {
          "name": "executive_summary",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "completed_at": {
          "name": "completed_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "briefing_sessions_user_id_idx": {
          "name": "briefing_sessions_user_id_idx",
          "columns": [
            {
              "expression": "user_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_sessions_status_idx": {
          "name": "briefing_sessions_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_sessions_current_step_idx": {
          "name": "briefing_sessions_current_step_idx",
          "columns": [
            {
              "expression": "current_step",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "briefing_sessions_created_at_idx": {
          "name": "briefing_sessions_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "briefing_sessions_user_id_users_id_fk": {
          "name": "briefing_sessions_user_id_users_id_fk",
          "tableFrom": "briefing_sessions",
          "tableTo": "users",
          "columnsFrom": ["user_id"],
          "columnsTo": ["id"],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.users": {
      "name": "users",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "clerk_id": {
          "name": "clerk_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "role": {
          "name": "role",
          "type": "user_role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "avatar_url": {
          "name": "avatar_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp with time zone",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "users_clerk_id_idx": {
          "name": "users_clerk_id_idx",
          "columns": [
            {
              "expression": "clerk_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_email_idx": {
          "name": "users_email_idx",
          "columns": [
            {
              "expression": "email",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_role_idx": {
          "name": "users_role_idx",
          "columns": [
            {
              "expression": "role",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "users_created_at_idx": {
          "name": "users_created_at_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "users_clerk_id_unique": {
          "name": "users_clerk_id_unique",
          "nullsNotDistinct": false,
          "columns": ["clerk_id"]
        },
        "users_email_unique": {
          "name": "users_email_unique",
          "nullsNotDistinct": false,
          "columns": ["email"]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.brainstorm_approach": {
      "name": "brainstorm_approach",
      "schema": "public",
      "values": ["ai_recommended", "user_selected", "quick_session", "comprehensive"]
    },
    "public.brainstorm_message_role": {
      "name": "brainstorm_message_role",
      "schema": "public",
      "values": ["system", "user", "assistant"]
    },
    "public.brainstorm_status": {
      "name": "brainstorm_status",
      "schema": "public",
      "values": ["active", "paused", "completed", "archived"]
    },
    "public.brainstorm_step": {
      "name": "brainstorm_step",
      "schema": "public",
      "values": ["setup", "technique", "execution", "document"]
    },
    "public.brainstorm_technique": {
      "name": "brainstorm_technique",
      "schema": "public",
      "values": [
        "scamper",
        "what_if",
        "six_hats",
        "five_whys",
        "mind_mapping",
        "analogical",
        "first_principles",
        "yes_and",
        "future_self",
        "reversal"
      ]
    },
    "public.briefing_document_type": {
      "name": "briefing_document_type",
      "schema": "public",
      "values": [
        "product_brief",
        "executive_summary",
        "vision_statement",
        "user_personas",
        "metrics_dashboard",
        "mvp_scope",
        "custom"
      ]
    },
    "public.briefing_message_role": {
      "name": "briefing_message_role",
      "schema": "public",
      "values": ["system", "user", "assistant"]
    },
    "public.briefing_status": {
      "name": "briefing_status",
      "schema": "public",
      "values": ["active", "paused", "completed", "archived"]
    },
    "public.briefing_step": {
      "name": "briefing_step",
      "schema": "public",
      "values": ["init", "vision", "users", "metrics", "scope", "complete"]
    },
    "public.user_role": {
      "name": "user_role",
      "schema": "public",
      "values": ["admin", "user", "guest"]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}
